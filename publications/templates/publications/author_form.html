{% extends "base.html" %}

{% load i18n %}
{% load l10n %}
{% trans alert %}

{% block additional_head %}
{{ wizard.form.media }}
{% endblock %}

{% block title %}
Add new author
{% endblock %}

{% block content %}

<p>
{% blocktrans with cur_step=wizard.steps.step1 total=wizard.steps.count %}Step {{ cur_step }} of {{ total }}{% endblocktrans %}
</p>

<form class="form-horizontal" role="form" action="" method="post">{% csrf_token %}

{{ wizard.management_form }}

{% if wizard.form.forms %}

    {{ wizard.form.management_form }}

    {% for form in wizard.form.forms %}

        {% for field in form %}

            {% if field.errors %}
               <div class="alert alert-warning" role="alert">{{ field.errors }}</div>
            {% endif %}
            <div class="form-group">
                <label for="{{ field.auto_id}}" class="col-sm-2 control-label">{{ field.label }}</label>
                <div class="col-sm-10">
                    <input class="form-control" id="{{ field.auto_id }}" name="{{ field.html_name }}" type="{{ field.field.widget.input_type }}">
                </div>
            </div>

        {% endfor %}

    {% endfor %}

{% else %}

    {% for field in wizard.form %}

        {% if field.errors %}
<!--
{% if form.errors %}
    {% for field in form %}
        {% for error in field.errors %}
            <div class="alert alert-error">
                <strong>{{ error|escape }}</strong>
            </div>
        {% endfor %}
    {% endfor %}
    {% for error in form.non_field_errors %}
        <div class="alert alert-error">
            <strong>{{ error|escape }}</strong>
        </div>
    {% endfor %}
{% endif %}
-->
{{ field.errors }}
        <div class="form-group has-error" data-toggle="tooltip" data-placement="top" title="This field has errors">
        {% endif %}
        <div class="form-group">
         <label for="{{ field.auto_id}}" class="col-sm-2 control-label">{{ field.label }}</label>
          <div class="col-sm-10">
            <input class="form-control" id="{{ field.auto_id }}" name="{{ field.html_name }}" type="{{ field.field.widget.input_type }}">
          </div>
        </div>

    {% endfor %}

{% endif %}


{% if wizard.steps.prev %}
<button name="wizard_goto_step" type="submit" value="{{ wizard.steps.first }}">{% trans "first step" %}</button>
<button name="wizard_goto_step" type="submit" value="{{ wizard.steps.prev }}">{% trans "prev step" %}</button>
{% endif %}

<div class="form-group">
  <div class="col-sm-offset-2 col-sm-10">
    <button type="submit" class="btn btn-default">{% trans "Submit" %}</button>
  </div>
</div>

</form>

{% endblock %}
